## 5.5 问题五模型的建立与求解

### 5.5.1 问题五分析

问题五是本题的综合挑战，要求5架无人机协同投放至多15枚烟幕弹，对3枚来袭导弹实施干扰。这是一个大规模多目标优化问题，涉及：

**问题规模**：
- 决策变量：5架无人机 × (飞行参数 + 3枚烟幕弹参数) = 约60维
- 目标对象：3枚导弹的独立轨迹
- 资源约束：最多15枚烟幕弹
- 时空耦合：多机多弹多目标的复杂交互

**核心挑战**：
1. **资源分配**：如何在3个导弹间合理分配有限的烟幕资源
2. **协同规划**：5架无人机的任务分工与路径规划
3. **时序优化**：多弹投放时序与起爆时机的精确控制
4. **覆盖策略**：平衡各导弹的遮蔽需求，避免顾此失彼

### 5.5.2 智能策略框架设计

#### "化曲为直"思想

将复杂的多目标拦截问题转化为直线路径上的机会识别：

**拦截机会建模**：
对每架无人机$i$、每枚导弹$j$，在导弹飞行路径上识别拦截机会点：
$$O_{ij} = \{(t_k, \mathbf{p}_k, \rho_k, \tau_k)\}$$

其中：
- $t_k$：拦截时刻
- $\mathbf{p}_k$：最优拦截位置
- $\rho_k$：拦截优先级
- $\tau_k$：预期遮蔽时长

**最优拦截位置计算**：
$$\mathbf{p}_{opt} = \mathbf{M}(t) + 0.4(\mathbf{T} - \mathbf{M}(t)) + (0, 0, h_{comp})$$

其中$h_{comp} = v_{sink} \cdot T_{smoke}/2$为高度补偿，考虑烟幕下沉效应。

**拦截优先级评估**：
$$\rho = \rho_{geom} \cdot \rho_{time} \cdot \rho_{reach} \cdot \rho_{sustain}$$

包含几何效果、时间窗口、可达性和持续性四个因子。

#### "底线思维"策略

确保每个导弹都有基本遮蔽保障：

**威胁评估模型**：
$$\Theta_j = \frac{\alpha}{||\mathbf{M}_j - \mathbf{T}||} + \frac{\beta}{t_{flight,j}} + \gamma \cdot \text{angle}_j$$

考虑距离威胁、时间紧迫性和进攻角度。

**基础任务分配**：
```python
for 导弹 in 按威胁排序(所有导弹):
    best_drone = argmax(无人机拦截能力评分)
    分配(best_drone, 导弹)
    标记(best_drone, 已占用)
```

#### 机会主义协同策略

无人机在执行主任务路径上识别并处理顺路目标：

**顺路机会判定**：
$$\text{Detour}(i, j, t) = ||\mathbf{U}_i(t) - \mathbf{p}_{opt,j}|| < D_{threshold}$$

若绕路距离小于2km且优先级$\rho > 0.3$，则为有效机会。

### 5.5.3 多目标优化模型

#### 目标函数设计

总遮蔽时间最大化：
$$J = \sum_{j=1}^3 T_{covered,j}$$

其中$T_{covered,j}$为导弹$j$的累计遮蔽时长。

#### 约束条件

1. **投放间隔约束**：
   $$|t_{release,i,k} - t_{release,i,k'}| \geq 1 \text{ s}, \quad \forall k \neq k'$$

2. **速度约束**：
   $$v_i \in [70, 140] \text{ m/s}$$

3. **资源约束**：
   $$\sum_{i=1}^5 n_i \leq 15$$
   
   其中$n_i$为无人机$i$投放的烟幕弹数量。

4. **起爆高度约束**：
   $$z_{explode} = z_0 - \frac{1}{2}g\Delta t^2 > 0$$

### 5.5.4 进化算法求解

采用混合初始化的进化算法：

#### 种群初始化

```python
种群构成:
- 40% 智能策略生成（基于底线思维+机会主义）
- 60% 随机策略生成（保证多样性）
```

#### 适应度评估

并行计算每个个体的总遮蔽时间：
```python
def evaluate_fitness(strategy):
    total = 0
    for missile in ['M1', 'M2', 'M3']:
        for t in time_steps:
            if any(烟幕遮挡(missile, t)):
                total += dt
    return total
```

#### 进化操作

**精英保留**：保留20%最优个体

**变异操作**：
- 参数微调：$\theta' = \theta + \mathcal{N}(0, \sigma^2)$
- 结构变异：30%概率重新生成部分策略

### 5.5.5 数值实现细节

#### 遮蔽判定优化

使用球体-线段相交测试：
```python
def is_blocked(line_start, line_end, sphere_center, radius):
    # 投影到直线
    t = dot(sphere_center - line_start, line_end - line_start) 
        / norm(line_end - line_start)^2
    t = clip(t, 0, 1)
    
    # 最近点距离
    closest = line_start + t * (line_end - line_start)
    return norm(closest - sphere_center) <= radius
```

#### 时间离散化

- 仿真步长：$\Delta t = 0.1$秒
- 仿真时长：100秒（覆盖所有导弹飞行时间）

### 5.5.6 优化结果分析

经过100代进化，获得最优策略：

**资源分配结果**：

| 导弹 | 分配烟幕弹数 | 遮蔽时长(s) | 遮蔽时段 |
|------|-------------|------------|----------|
| M1 | 2枚 | 3.3 | [4.8, 8.1] |
| M2 | 1枚 | 4.0 | [16.1, 20.1] |
| M3 | 1枚 | 3.5 | [28.9, 32.4] |

**总遮蔽时长：10.8秒**

#### 策略特征分析

1. **差异化资源分配**：
   - M1作为主要威胁获得2枚烟幕弹
   - M2、M3各获得1枚基础保障

2. **时序协调优化**：
   - 遮蔽时段分散在不同时间窗口
   - 避免了资源在时间上的重叠浪费

3. **无人机任务分工**：
   - FY3承担主要任务（最优位置和高度）
   - FY1、FY2、FY5执行机会任务
   - FY4未使用（资源优化结果）

#### 底线思维验证

每枚导弹都获得了基本遮蔽保障：
- 最短遮蔽时长：3.3秒（M1）
- 平均遮蔽时长：3.6秒
- 遮蔽覆盖率：100%（所有导弹都被遮蔽）

#### 机会识别效果

- 识别拦截机会：9个
- 实际执行：4个（受资源约束）
- 机会利用率：44.4%

### 5.5.7 算法性能分析

**计算效率**：
- 种群规模：50个个体
- 进化代数：100代
- 并行核心：8核
- 总计算时间：约3分钟

**收敛特性**：
- 初始最优：约5秒
- 最终最优：10.8秒
- 改进幅度：116%
- 收敛代数：约60代

### 5.5.8 策略鲁棒性分析

通过蒙特卡洛仿真评估策略鲁棒性：

**扰动因素**：
- 导弹速度偏差：±10 m/s
- 无人机定位误差：±50 m
- 起爆时间偏差：±0.5 s

**鲁棒性指标**：
- 平均遮蔽时长：10.2秒（下降5.6%）
- 最差情况：8.5秒
- 标准差：0.8秒


智能策略通过"化曲为直"和"底线思维"的结合，实现了资源的高效利用和目标的全面覆盖。